(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{70697:function(e,t,n){Promise.resolve().then(n.bind(n,44638)),Promise.resolve().then(n.bind(n,19493)),Promise.resolve().then(n.t.bind(n,92740,23)),Promise.resolve().then(n.t.bind(n,75646,23)),Promise.resolve().then(n.bind(n,17787))},44638:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return u},a:function(){return d}});var r=n(27573),a=n(7653),o=n(31523),i=n(96228),s=n(94328);let c={monthlyLimit:1e5,billingDate:15,currency:"Rs.",categories:[{id:"groceries",name:"Groceries",icon:"ShoppingCart",color:"bg-green-500"},{id:"dining",name:"Dining",icon:"Utensils",color:"bg-orange-500"},{id:"fuel",name:"Fuel",icon:"Fuel",color:"bg-blue-500"},{id:"shopping",name:"Shopping",icon:"ShoppingBag",color:"bg-pink-500"},{id:"subscriptions",name:"Subscriptions",icon:"CreditCard",color:"bg-purple-500"},{id:"health",name:"Health",icon:"Heart",color:"bg-red-500"},{id:"entertainment",name:"Entertainment",icon:"Gamepad2",color:"bg-indigo-500"},{id:"transport",name:"Transport",icon:"Car",color:"bg-cyan-500"},{id:"utilities",name:"Utilities",icon:"Zap",color:"bg-yellow-500"},{id:"other",name:"Other",icon:"MoreHorizontal",color:"bg-gray-500"}],notificationsEnabled:!0,alertThresholds:[50,75,90,100],theme:"system"},l=(0,a.createContext)(null);function u(e){let{children:t}=e,[n,u]=(0,a.useState)(null),[d,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=(0,o.Aj)(s.I8,async e=>{try{if(e){let t=await (0,i.QT)((0,i.JU)(s.db,"users",e.uid));if(t.exists())u({uid:e.uid,email:e.email||"",displayName:e.displayName||"",photoURL:e.photoURL||"",settings:t.data().settings});else{let t={uid:e.uid,email:e.email||"",displayName:e.displayName||"",photoURL:e.photoURL||"",settings:c};await (0,i.pl)((0,i.JU)(s.db,"users",e.uid),{settings:c,createdAt:new Date}),u(t)}}else u(null)}catch(e){console.error("Auth state change error:",e),u(null)}finally{m(!1)}});return()=>e()},[]);let h=async()=>{let e=new o.hJ;await (0,o.rh)(s.I8,e)},f=async()=>{await (0,o.w7)(s.I8)},p=async e=>{if(!n)return;let t={...n.settings,...e};await (0,i.pl)((0,i.JU)(s.db,"users",n.uid),{settings:t},{merge:!0}),u({...n,settings:t})};return(0,r.jsx)(l.Provider,{value:{user:n,loading:d,signIn:h,signOut:f,updateSettings:p},children:t})}let d=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},19493:function(e,t,n){"use strict";n.d(t,{ThemeProvider:function(){return s}});var r=n(27573),a=n(39089),o=n(44638),i=n(7653);function s(e){let{children:t}=e,{user:n}=(0,o.a)();return(0,r.jsxs)(a.f,{attribute:"class",defaultTheme:(null==n?void 0:n.settings.theme)||"system",enableSystem:!0,disableTransitionOnChange:!0,children:[(0,r.jsx)(c,{}),t]})}function c(){let{theme:e}=(0,a.F)(),{user:t,updateSettings:n}=(0,o.a)(),r=(0,i.useRef)(e),s=(0,i.useRef)(!0);return(0,i.useEffect)(()=>{if(s.current){s.current=!1,r.current=e;return}r.current!==e&&t&&(e&&e!==t.settings.theme&&n({theme:e}),r.current=e)},[e,t,n]),null}},94328:function(e,t,n){"use strict";n.d(t,{ai:function(){return u},I8:function(){return s},db:function(){return c},vu:function(){return m},EQ:function(){return h},E:function(){return d}});var r=n(42061),a=n(30801),o=n(90024);let i=0===(0,r.C6)().length?(0,r.ZF)({apiKey:"AIzaSyCV1t7oVNNZ2OA5gG3AlZIkL2mj9RGLIJY",authDomain:"spendwise-expense-tracker-app.firebaseapp.com",projectId:"spendwise-expense-tracker-app",storageBucket:"spendwise-expense-tracker-app.firebasestorage.app",messagingSenderId:"39820487912",appId:"1:39820487912:web:6c8ffc761a381cbb2e2d5d"}):(0,r.C6)()[0],s=(0,a.v0)(i),c=(0,o.ad)(i),l="expenses";async function u(e,t){let n={userId:e,amount:t.amount,category:t.category,merchant:t.merchant,source:t.source,date:o.EK.fromDate(t.date),createdAt:o.EK.now(),updatedAt:o.EK.now()};return t.note&&(n.note=t.note),(await (0,o.ET)((0,o.hJ)(c,l),n)).id}async function d(e,t){let n=(0,o.JU)(c,l,e),r={updatedAt:o.EK.now()};void 0!==t.amount&&(r.amount=t.amount),void 0!==t.category&&(r.category=t.category),void 0!==t.merchant&&(r.merchant=t.merchant),void 0!==t.source&&(r.source=t.source),void 0!==t.note&&t.note&&(r.note=t.note),t.date&&(r.date=o.EK.fromDate(t.date)),await (0,o.r7)(n,r)}async function m(e){await (0,o.oe)((0,o.JU)(c,l,e))}function h(e,t,n,r){let a=(0,o.IO)((0,o.hJ)(c,l),(0,o.ar)("userId","==",e),(0,o.Xo)("date","desc"));return(0,o.cf)(a,e=>{r(e.docs.map(e=>{let t=e.data();return{id:e.id,userId:t.userId,amount:t.amount,category:t.category,merchant:t.merchant,note:t.note,date:t.date.toDate(),createdAt:t.createdAt.toDate(),updatedAt:t.updatedAt.toDate(),source:t.source}}).filter(e=>e.date>=t&&e.date<=n))})}},75646:function(){},92740:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}},39089:function(e,t,n){"use strict";n.d(t,{F:function(){return u},f:function(){return d}});var r=n(7653),a=(e,t,n,r,a,o,i,s)=>{let c=document.documentElement,l=["light","dark"];function u(t){(Array.isArray(e)?e:[e]).forEach(e=>{let n="class"===e,r=n&&o?a.map(e=>o[e]||e):a;n?(c.classList.remove(...r),c.classList.add(o&&o[t]?o[t]:t)):c.setAttribute(e,t)}),s&&l.includes(t)&&(c.style.colorScheme=t)}if(r)u(r);else try{let e=localStorage.getItem(t)||n,r=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;u(r)}catch(e){}},o=["light","dark"],i="(prefers-color-scheme: dark)",s="undefined"==typeof window,c=r.createContext(void 0),l={setTheme:e=>{},themes:[]},u=()=>{var e;return null!=(e=r.useContext(c))?e:l},d=e=>r.useContext(c)?r.createElement(r.Fragment,null,e.children):r.createElement(h,{...e}),m=["light","dark"],h=e=>{let{forcedTheme:t,disableTransitionOnChange:n=!1,enableSystem:a=!0,enableColorScheme:s=!0,storageKey:l="theme",themes:u=m,defaultTheme:d=a?"system":"light",attribute:h="data-theme",value:b,children:w,nonce:v,scriptProps:E}=e,[S,C]=r.useState(()=>p(l,d)),[A,k]=r.useState(()=>"system"===S?y():S),T=b?Object.values(b):u,I=r.useCallback(e=>{let t=e;if(!t)return;"system"===e&&a&&(t=y());let r=b?b[t]:t,i=n?g(v):null,c=document.documentElement,l=e=>{"class"===e?(c.classList.remove(...T),r&&c.classList.add(r)):e.startsWith("data-")&&(r?c.setAttribute(e,r):c.removeAttribute(e))};if(Array.isArray(h)?h.forEach(l):l(h),s){let e=o.includes(d)?d:null,n=o.includes(t)?t:e;c.style.colorScheme=n}null==i||i()},[v]),_=r.useCallback(e=>{let t="function"==typeof e?e(S):e;C(t);try{localStorage.setItem(l,t)}catch(e){}},[S]),L=r.useCallback(e=>{k(y(e)),"system"===S&&a&&!t&&I("system")},[S,t]);r.useEffect(()=>{let e=window.matchMedia(i);return e.addListener(L),L(e),()=>e.removeListener(L)},[L]),r.useEffect(()=>{let e=e=>{e.key===l&&(e.newValue?C(e.newValue):_(d))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[_]),r.useEffect(()=>{I(null!=t?t:S)},[t,S]);let x=r.useMemo(()=>({theme:S,setTheme:_,forcedTheme:t,resolvedTheme:"system"===S?A:S,themes:a?[...u,"system"]:u,systemTheme:a?A:void 0}),[S,_,t,A,a,u]);return r.createElement(c.Provider,{value:x},r.createElement(f,{forcedTheme:t,storageKey:l,attribute:h,enableSystem:a,enableColorScheme:s,defaultTheme:d,value:b,themes:u,nonce:v,scriptProps:E}),w)},f=r.memo(e=>{let{forcedTheme:t,storageKey:n,attribute:o,enableSystem:i,enableColorScheme:s,defaultTheme:c,value:l,themes:u,nonce:d,scriptProps:m}=e,h=JSON.stringify([o,n,c,t,u,l,i,s]).slice(1,-1);return r.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"undefined"==typeof window?d:"",dangerouslySetInnerHTML:{__html:"(".concat(a.toString(),")(").concat(h,")")}})}),p=(e,t)=>{let n;if(!s){try{n=localStorage.getItem(e)||void 0}catch(e){}return n||t}},g=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},y=e=>(e||(e=window.matchMedia(i)),e.matches?"dark":"light")}},function(e){e.O(0,[452,415,630,547,181,71,787,293,528,744],function(){return e(e.s=70697)}),_N_E=e.O()}]);