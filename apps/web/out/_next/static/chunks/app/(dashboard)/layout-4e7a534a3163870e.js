(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{14290:function(e,t,r){Promise.resolve().then(r.bind(r,25233))},25233:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var a=r(27573),n=r(7653),s=r(81695),i=r(44638),o=r(88146),l=r(47164),c=r(35453),d=r(18854),u=r(12198);let m=[{href:"/dashboard",icon:c.Z,label:"Home"},{href:"/insights",icon:d.Z,label:"Insights"},{href:"/settings",icon:u.Z,label:"Settings"}];function f(){let e=(0,s.usePathname)();return(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-lg border-t z-40",children:(0,a.jsx)("div",{className:"flex justify-around items-center h-16 max-w-md mx-auto",children:m.map(t=>{let r=e===t.href,n=t.icon;return(0,a.jsxs)(o.default,{href:t.href,className:"flex flex-col items-center gap-1 px-6 py-2 relative",children:[(0,a.jsx)(l.E.div,{initial:!1,animate:{scale:r?1.1:1,color:r?"hsl(var(--primary))":"hsl(var(--muted-foreground))"},children:(0,a.jsx)(n,{className:"w-6 h-6"})}),(0,a.jsx)("span",{className:"text-xs ".concat(r?"text-primary font-medium":"text-muted-foreground"),children:t.label}),r&&(0,a.jsx)(l.E.div,{layoutId:"activeTab",className:"absolute bottom-0 h-0.5 w-12 bg-primary rounded-full"})]},t.href)})})})}var h=r(18843),p=r(19369);let g=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(h.fC,{ref:t,className:(0,p.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...n})});g.displayName=h.fC.displayName;let b=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(h.Ee,{ref:t,className:(0,p.cn)("aspect-square h-full w-full",r),...n})});b.displayName=h.Ee.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(h.NY,{ref:t,className:(0,p.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...n})});x.displayName=h.NY.displayName;var y=r(58040);let v=y.fC,w=y.xz,N=n.forwardRef((e,t)=>{let{className:r,sideOffset:n=4,...s}=e;return(0,a.jsx)(y.Uv,{children:(0,a.jsx)(y.VY,{ref:t,sideOffset:n,className:(0,p.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",r),...s})})});N.displayName=y.VY.displayName;let j=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)(y.ck,{ref:t,className:(0,p.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",r),...n})});j.displayName=y.ck.displayName;var k=r(65729);function E(e){var t;let{children:r}=e,{user:o,loading:l,signOut:c}=(0,i.a)(),d=(0,s.useRouter)();return((0,n.useEffect)(()=>{l||o||d.push("/login")},[o,l,d]),l||!o)?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("header",{className:"sticky top-0 z-40 bg-background/80 backdrop-blur-lg border-b",children:(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 h-14 max-w-md mx-auto",children:[(0,a.jsx)("h1",{className:"font-bold text-lg",children:"SpendWise"}),(0,a.jsxs)(v,{children:[(0,a.jsx)(w,{asChild:!0,children:(0,a.jsxs)(g,{className:"h-8 w-8 cursor-pointer",children:[(0,a.jsx)(b,{src:o.photoURL,alt:o.displayName}),(0,a.jsx)(x,{children:null===(t=o.displayName)||void 0===t?void 0:t[0]})]})}),(0,a.jsx)(N,{align:"end",children:(0,a.jsxs)(j,{onClick:c,children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Sign out"]})})]})]})}),(0,a.jsx)("main",{children:r}),(0,a.jsx)(f,{})]})}},44638:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},a:function(){return u}});var a=r(27573),n=r(7653),s=r(31523),i=r(96228),o=r(94328);let l={monthlyLimit:1e5,billingDate:15,currency:"Rs.",categories:[{id:"groceries",name:"Groceries",icon:"ShoppingCart",color:"bg-green-500"},{id:"dining",name:"Dining",icon:"Utensils",color:"bg-orange-500"},{id:"fuel",name:"Fuel",icon:"Fuel",color:"bg-blue-500"},{id:"shopping",name:"Shopping",icon:"ShoppingBag",color:"bg-pink-500"},{id:"subscriptions",name:"Subscriptions",icon:"CreditCard",color:"bg-purple-500"},{id:"health",name:"Health",icon:"Heart",color:"bg-red-500"},{id:"entertainment",name:"Entertainment",icon:"Gamepad2",color:"bg-indigo-500"},{id:"transport",name:"Transport",icon:"Car",color:"bg-cyan-500"},{id:"utilities",name:"Utilities",icon:"Zap",color:"bg-yellow-500"},{id:"other",name:"Other",icon:"MoreHorizontal",color:"bg-gray-500"}],notificationsEnabled:!0,alertThresholds:[50,75,90,100],theme:"system"},c=(0,n.createContext)(null);function d(e){let{children:t}=e,[r,d]=(0,n.useState)(null),[u,m]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=(0,s.Aj)(o.I8,async e=>{try{if(e){let t=await (0,i.QT)((0,i.JU)(o.db,"users",e.uid));if(t.exists())d({uid:e.uid,email:e.email||"",displayName:e.displayName||"",photoURL:e.photoURL||"",settings:t.data().settings});else{let t={uid:e.uid,email:e.email||"",displayName:e.displayName||"",photoURL:e.photoURL||"",settings:l};await (0,i.pl)((0,i.JU)(o.db,"users",e.uid),{settings:l,createdAt:new Date}),d(t)}}else d(null)}catch(e){console.error("Auth state change error:",e),d(null)}finally{m(!1)}});return()=>e()},[]);let f=async()=>{let e=new s.hJ;await (0,s.rh)(o.I8,e)},h=async()=>{await (0,s.w7)(o.I8)},p=async e=>{if(!r)return;let t={...r.settings,...e};await (0,i.pl)((0,i.JU)(o.db,"users",r.uid),{settings:t},{merge:!0}),d({...r,settings:t})};return(0,a.jsx)(c.Provider,{value:{user:r,loading:u,signIn:f,signOut:h,updateSettings:p},children:t})}let u=()=>{let e=(0,n.useContext)(c);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},19369:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(10607),n=r(25579);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}},94328:function(e,t,r){"use strict";r.d(t,{ai:function(){return d},I8:function(){return o},db:function(){return l},vu:function(){return m},EQ:function(){return f},E:function(){return u}});var a=r(42061),n=r(30801),s=r(90024);let i=0===(0,a.C6)().length?(0,a.ZF)({apiKey:"AIzaSyCV1t7oVNNZ2OA5gG3AlZIkL2mj9RGLIJY",authDomain:"spendwise-expense-tracker-app.firebaseapp.com",projectId:"spendwise-expense-tracker-app",storageBucket:"spendwise-expense-tracker-app.firebasestorage.app",messagingSenderId:"39820487912",appId:"1:39820487912:web:6c8ffc761a381cbb2e2d5d"}):(0,a.C6)()[0],o=(0,n.v0)(i),l=(0,s.ad)(i),c="expenses";async function d(e,t){let r={userId:e,amount:t.amount,category:t.category,merchant:t.merchant,source:t.source,date:s.EK.fromDate(t.date),createdAt:s.EK.now(),updatedAt:s.EK.now()};return t.note&&(r.note=t.note),(await (0,s.ET)((0,s.hJ)(l,c),r)).id}async function u(e,t){let r=(0,s.JU)(l,c,e),a={updatedAt:s.EK.now()};void 0!==t.amount&&(a.amount=t.amount),void 0!==t.category&&(a.category=t.category),void 0!==t.merchant&&(a.merchant=t.merchant),void 0!==t.source&&(a.source=t.source),void 0!==t.note&&t.note&&(a.note=t.note),t.date&&(a.date=s.EK.fromDate(t.date)),await (0,s.r7)(r,a)}async function m(e){await (0,s.oe)((0,s.JU)(l,c,e))}function f(e,t,r,a){let n=(0,s.IO)((0,s.hJ)(l,c),(0,s.ar)("userId","==",e),(0,s.Xo)("date","desc"));return(0,s.cf)(n,e=>{a(e.docs.map(e=>{let t=e.data();return{id:e.id,userId:t.userId,amount:t.amount,category:t.category,merchant:t.merchant,note:t.note,date:t.date.toDate(),createdAt:t.createdAt.toDate(),updatedAt:t.updatedAt.toDate(),source:t.source}}).filter(e=>e.date>=t&&e.date<=r))})}}},function(e){e.O(0,[415,630,547,181,71,6,336,689,293,528,744],function(){return e(e.s=14290)}),_N_E=e.O()}]);